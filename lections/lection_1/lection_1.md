ЛЕКЦИЯ 1. Введение в основы мобильных приложений

План курса:

1. Введение в тестирование мобильных приложений
2. Особенности тестирования мобильных приложений
3. Тестирование мобильных приложений Android
4. Среда разработки Android Studio и Android Debug Bridge (ADB)
5. Тестирование мобильных приложений iOS
6. Сбор и анализ трафика

# План урока: Введение в тестирование мобильных приложений

1. С чего начинается разработка мобильного приложения
2. Подходы к разработке мобильных приложений
3. Схема тестирования мобильных приложений на проекте
4. Сервисы дистрибуции мобильных приложений
5. Макеты и как их использовать при тестировании
6. Мобильные операционные системы

## Этапы разработки мобильного приложения:

1. аналитика
2. описание функций
3. дизайн
4. разработка
5. тестирование
6. релиз
7. поддержка, сопровождение

### Аналитика

- Клиент: идея + какие задачи должен решать продукт;
- Команда: собирает аналитику, анализирует рынок, ЦА, исследует как аналог работает у конкурентов.

### Описание функций

Составляется подробное описание:

- функциональности,
- дизайна продукта,
- персонажей пользователей,
- пользовательских историй (user story),

а также:

- карта путешествия пользователей (наглядная схема из экранов перемещения пользователя внутри приложения),
- техническое требование к сервису.

### Дизайн

1. **UX-дизайн - проектирование** - удобство использования приложения.
2. **UI-дизайн - дизайн в привычном понимании** - визуальный вид приложения, пользовательского интерфейса, элементов, цветовая гамма и проч.

### Разработка

- **Фронтенд** - _клиентская часть_ продукта – интерфейс, бизнес-логика приложения.
- **Бэкенд** - _серверная часть_ продукта — отвечает за передачу данных между пользователями или ресурсами, взаимодействие клиента с сервером, бизнес-логика системы.

### Тестирование

- **Тестирование функц-ти** - прил работает так, как заявлено в требовании; проверка основных ф-й, без которых работа приложения не достигнет цели: регистрация, вход, оплата и тп.;
- **Вёрстка** - адаптация под любой необходимый гаджет, отображение эл-тов на любом разрешении и р-ре экрана (по макетам дизайнеров);
- **Доступность на разных ОС (платформах Android, iOS), устройствах ИЛИ кроссплатформенное тестирование**;
- **Производительность и нагрузка** - обычная/экстремальная нагрузка, время запуска, потребление батареи и памяти, скорость передачи данных, процесс взаимодействия с сервером;
- **Безопасность** для пользователя - в каком виде и где хранятся данные, шифруются ли они, не передаются ли лог-пароль в открытом виде. При оплате через платежную систему передаем инф об оплате через ссылку с опред id и данные никуда не утекают.

### Релиз

- Публикация в сторы: App Store и Google Play;
- Модерация приложения сотрудниками сторов: соответствие приложения всем локальным требованиям и правилам.

### Поддержка, сопровождение

Корректная работа с технической стороны:

- серверы выдерживают нагрузки;
- на диске есть свободное место;
- баги, которые приносят пользователи, быстро устраняются.

## Подходы к разработке мобильных приложений: Нативный, Кросс-платформенный, Гибридный

**Нативный** - приложение пишется под конкретную мобильную платформу (iOS/ Android), код под Android нельзя будет использовать под iOS без дополнительной адаптации, интерфейс приложения выглядит _органично для своей ОС_, приложение _работает быстро_.

**Swift, Obj-C** для **iOS**;
**Java, Kotlin** для **Android**.

ПЛЮСЫ

- наиболее производительны;
- получают полную поддержку от сторов;
- интуитивно понятны, работают более плавно;
- позволяют разработчикам получить доступ к полному набору ф-ий ОС.

МИНСЫ

- бОльшие затраты на старте и при поддержке, чем у кросс-платформенных приложений;
- не лучший вариант для простых приложений.

**Кросс-платформенный** - код приложения универсален, _ОС запускает его как нативное_. Требует от разработчика временных затрат на оптимизацию и знание технологий.

ПЛЮСЫ

- разработка и поддержка дешевле, чем у нативных приложений;
- использование одного и того же кода для создания сервисов для разных платформ.

МИНУСЫ

- низкие производительность и отзывчивость;
- для качественного продукта нужны высококвалифицированные разработчики — их мало, они дорого стоят;
- требуют от разработчиков больше сил и времени, для адаптации сервиса под разные платформы и устройства.

**Гибридный** - код пишется на **HTML**, **CSS** или **JavaScript** в средах разработки **Cordova**, **PhoneGap** и **Ionic**.

ПЛЮСЫ

- дешевизна разработки;
- поддержка множества платформ, _ДЛЯ ДОСТУПА НУЖЕН ТОЛЬКО БРАУЗЕР_.

МИНУСЫ

- адаптивный дизайн;
- недоступность многих ф-ий.

## Перед разработкой приложения необходимо определиться с:

1. **ЯП**: приложение - Java/Swift, сервер - JS, C#, Golang, PHP, Python;
2. **Системами БД**: SQL(надежные, подходят для всех задач, самые популярные – MS SQL, MySQL, PostgreSQL) или все остальные;
3. **Хостинг для сервера и API** - учитывать производительность, масштабируемость, географию расположения серверов. Выбирают провайдеров Amazon, Rackspace и др.

## Схема/этапы тестирования мобильных приложений на проекте

- **изучение требований** - написанные заказчиком/аналитиком/продактом в виде таска в баг-треккере(Jira) - при несоответствии атрибутам требований выявить их и вернуть составителю для исправления; здесь же - коммуникация с составителем для уточнения функционала и проч.;
- **составление тестовой документации** - чек-листы/тест-кейсы. На первых двух этапах разработчик еще может дописывать код приложения;
- **сборка приложения(билда)** - тестировщик/разработчик собирает _билд (сборку)_ - единый запускаемый файл (с расширением для iOS - .**app/.ipa**, для Android — **.apk** - это и есть моб. приложение) из набора файлов исходного кода.
  _3 варианта сборки:_

1. _ручная_ - разработчик/тестировщик компилирует код, объединяет классы, устанавливает набор зависимостей. Длительный, дорогостоящий процесс, не билд всегда собиратся с 1-го раза (Android Studio, Xcode).
2. _полуавтоматическая_ - разработчик в программах сборки билдов настраевает и вводит команды для запуска сборки. Упрощает жизнь, т.к. процесс сборки настраивается 1 раз, после - запускается вводом команды.
3. _автоматическая_ - наименее трудозатратная - автоматическое превращение набора файлов исходного кода в готовое к установке приложение без участия человека — _CI (Continuous Integration)_. 2 варианта настройки: CI спрашивает репозиторий раз в n часов/ минут о наличии обновлений ЛИБО репозиторий связывается с CI при каждом наличии обновлений. После того как CI получает изменение, запускается сборка билда, если на проекте есть автотесты – они запускаются на новой версии сборки. При неудачной сборке система оповещает о неудаче, при успешной - CI разворачивает сборку на тестовой машине либо отдает готовые файлы для установки (также автоматически). Разработчик устанавливает их на тестовый девайс.

Инструменты автоматической сборки - **Jenkins (логика сборки на консоли), GitLab** (наиболее популярные)

Куда прилетают собранные сборки:

- Android – выгружается в чат рабочего мессенджера, скачивается АПК, устанавливаеется на любой андроид-девайс.
- iOS - в _сервисы дистрибуции AppCenter_. Чтобы собранное прил. отправлялось в центр дистрибуции - подключаем репо приложения, после сборки приложение отправляется в AppCenter, откуда его можно установить на устройство.

_Сервис дистрибуции TestFlight_ — оф. программа, разработанная Apple только для открытого бета-тестирования iOS-устройств. Предполагает открытый доступ к программе для 1000 бета-тестировщиков через их email, привязанный к Apple ID.

- **тестирование моб. приложения**:
- функциональное тестирование;
- тестирование совместимости;
- тестирование безопасности;
- тестирование локализации и глобализации;
- тестирование удобства использования;
- стрессовое тестирование;
- кросс-платформенное тестирование;
- тестирование производительности.

- **закрытие задачи** - тестировщик пишет:

- что было протестировано — ссылка на тестовую документацию;
- что не было протестировано, почему;
- скриншоты, скринкасты, подтверждающие, что задача выполнена, дефект исправлен;
- на каких устройствах проводилось тестирование, на какой версии билда была проверка.

## Макеты для тестирования верстки и ознакомления с новой функциональностью

1. Макет рисует дизайнер;
2. По макету разработчик верстает страницы/экраны;
3. При тестировании тестировщик разбирается по макетам в нюансах работы функциональности, проверяет корректность верстки в реализации функциональности.

Перевод макета в код в инструментах **Zeplin/Figma** из Photoshop/Sketch, где дизайнеры рисуют прототип.
Дизайнеру не нужно описывать спецификацию – достаточно выгрузить отрисованные файлы. Изучается дизайн приложения, изображения, иконки, св-ва объектов – шрифты, цвета, р-ры. Можно экспортировать ресурсные файлы для любых элементов – текст, кнопка и проч. Позволяют добавлять комментарии, заметки для членов команды в текущем макете.

### Мобильная ОС — программная платформа, поверх которой другие программы могут работать на мобильных устройствах.

      98,7% рынка - iOS (23%) и Android (77%), выручка с этих ОС примерно одинаковая.

**iOS** - Мобильная ОС с _ЗАКРЫТЫМ кодом_ для смартфонов, электронных планшетов, носимых проигрывателей и др. устройств, разрабатываемая и выпускаемая американской компанией Apple. Версии iOS Apple внутри компании называют в честь горнолыжных курортов.
**Android** - ОС с _ОТКРЫТЫМ кодом_ (производители могут изменять код под свои потребности, что может усложнять тестирование) для смартфонов, планшетов, электронных книг, телевизоров, наручных часов, фитнес-браслетов, игровых приставок, ноутбуков, нетбуков. Android впервые выпущен в 2008г как АСТРО, изначально называл свои версии названиями сладостей в алфавитном порядке.

### Чек-лист подбора устройства для тестирования

1. ТЗ: если прописано чётко — вам повезло. _Чаще прописывают версии iOS и Android_, которые должны поддерживаться, _перечень устройств приходится выбирать самостоятельно_, для этого:
2. Определить аудиторию: a. возраст b. уровень жизни (есть дорогие андроиды, есть недорогие айфоны);
3. География распространения приложения: a. какие устройства (производители) в этом регионе есть;
4. Устройства - разные оболочки вендера у разных производителей, учитывая версии ОС;
5. Разрешения экранов;
6. Исп. общедоступные сервисы для сбора статистики
7. Опираясь на статистику – исп внутренние сервисы сбора аналитики по используемым устройствам (идеальный вариант) или использовать общедоступные сервисы по сбору статистики.

   Если приложение не опубликовано, задача ложится на QA: проанализировать популярные устройства на рынке, разделить их по сегментам, выделить общие характеристики, определить цель приложения и его ЦА, примерно нарисовать портрет пользователя. На основе этих данных закупают устройства.
   Если приложение опубликовано, задача тоже ложится на QA. Тестирование просит аналитиков выгрузить данные из сервиса с аналитикой, где есть вся информация по устройствам пользователей и установленной на них ОС. В выгруженном списке настраивают сортировку по популярности среди пользователей и на этой основе закупают устройства.
